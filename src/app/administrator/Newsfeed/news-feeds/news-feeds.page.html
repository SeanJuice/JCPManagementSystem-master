<ion-content>


<div role="main" style="width: 50%; margin: auto; padding-top: 5%;">



  <section class="panel important">
    <h2>Write a post</h2>
    <form [formGroup]="this.newsfeedserve.form" (ngSubmit)="ConfirmationPost(this.SavedID)">
      <div class="twothirds">
        

        <label for="textarea">Description:</label>
        <textarea cols="40" rows="8" name="textarea" id="textarea" formControlName="Description" name="Description" ></textarea>

      </div>
      <div class="onethird">
        <legend>NEW POST</legend>

        <div *ngIf=" Showaddbutton == true" >
          <input type="submit" value="Add Post" [disabled]="!selectedFiles" />
        </div>

        <div *ngIf=" Showeditbutton == true">
          <input type="submit" value="Save Changes" />
        </div>

        <div>
          <label for="file">
            attach picture
          </label>
        </div>
        <div>
          <label class="btn btn-primary" style="background-color: #007B7C;"> <input type="file"
            (change)="selectFile($event)" access=".png,.jpg,.mp4">
          </label>
        </div>
        <div *ngIf="currentFileUpload" class="progress">
          <div class="progress-bar progress-bar-info progress-bar-striped"
            role="progressbar" attr.aria-valuenow="{{progress.percentage}}"
            aria-valuemin="0" aria-valuemax="100" 
            [ngStyle]="{width:progress.percentage+'%'}">
            {{progress.percentage}}%</div>
        </div>
      </div>
    </form>
  </section>
  <section  class="panel important" style="background-color: transparent;">
    <div class="content-container" style="width:90%;padding-top: 5%;">
      <div class="searchbox" >
        <button class="btn-menu">
            <img src="https://img.icons8.com/cute-clipart/24/000000/top-menu.png">
        </button>
        <input id="search" type="text" placeholder="Search..." name="search" class="search">
      <button  class="btn-search">
          <img src="https://img.icons8.com/cotton/24/000000/search--v2.png">
        </button>
    </div>
    </div>
  </section>

  <div *ngFor="let post of Posts">
    <section class="panel important">
      <h2>Newsfeed Post </h2>
      <ul>
        <li>  <img  *ngIf="filetypeCheker(post.fileType) == false" src={{post.Url}} alt="Avatar" style="width:60%">
          <video hide *ngIf="filetypeCheker(post.fileType)" width="60%" height="240" controls>
            <source src={{post.Url}} type="video/mp4">
          </video>
        </li>
        <li>.</li>
        <li class="card border-info " >
          <div class="card-header">
              {{post.Date | date}}
          </div>
          <div class="card-body" style="font-size:medium;color: #007B7C;">
              <strong>
                <h2> {{post.Description}} </h2>
              </strong>
            
          </div>
          <div class="card-footer text-muted">
            <div class="container" style="width: 50%;">
              <div class="row">
                <div class="col">
                  <button mat-flat-button color="accent" (click)="show(post.id)">Edit</button>
                </div>
                <div class="col">
                  <button mat-flat-button color="warn" (click)="ConfirmationDelete(post.id,post.Url)">Delete</button>
                </div>
              </div>
            </div>
          </div>
        </li>
      </ul>

    </section>
  </div>

 

</div>


</ion-content>
